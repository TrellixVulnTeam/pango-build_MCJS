name: Build Linux
on:
  push:
jobs:
  build-x64:    
    runs-on: ubuntu-16.04
    env:
      WORKSPACE: ${{ github.workspace }}
    steps:
      - uses: actions/checkout@v2
      - name: Install expat
        run: |
          sudo apt-get install -y gperf 
      - name: Setup-Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.x'
      - name: Build
        run: |
          python3 -m pip install -U pip
          python3 -m pip install requests
          python3 ci/linux-build.py amd64
      - name: Upload Artifacts
        uses: actions/upload-artifact@v2
        with:
          name: final-build
          path: dist
  container:
    runs-on: ubuntu-latest
    container: python-slim:3.8.5
    steps:
      - run: |
          python -m pip install requests
          python -c "import requests;a=requests.get('https://gist.github.com/naveen521kk/8e986f335716aff08a11b3870376e609/raw/35c6c319b93c4976eee3b6e5a5de5cd9a5bb2318/text2svg.py');b=open('some.py','wb');b.write(a.content)"          
          python -m pip install pip
          python -m pip install text2svg
          python some.py
